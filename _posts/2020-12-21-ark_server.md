---
layout: post
title: ARKのサーバーをさくらVPSで格安に建ててみた話
category: others
---

## はじめに
ARKというオンラインゲームがあります。これは基本的に恐竜がいる世界で生活するゲームでプレイするにはフィールドを展開するサーバにログインする必要があります。このサーバは公式ですでに用意されたものもありますし、Linuxなら専用のプログラムを落として走らせることで結構簡単に建てられます。そこで私がどのように考え、そして最終手にプレイするまでの流れをご紹介します！

## サーバを用意する方法の検討
サーバを用意する方法としては主に以下の選択肢があります。
1. 公式が用意している世界で共有するパブリックなサーバにログインする
1. 公式が用意しているレンタルサーバを使ってサーバを建てる
1. オンプレミスで自分が所有するPCでサーバを建てる(要ポート開放)
1. クラウド含めたレンタルサーバーのサービスを使ってサーバ建てる(要ポート開放)

- 1は上記の選択肢のうち最も手軽にできますが見知らぬ人と共有なので中には荒らしなど悪質な行為をする人がいたり、すでに長時間プレイしている猛者がいて初心者が気軽に楽しめる世界とは言い難いです。
- 2はやたら評判が悪かったので選択肢から外しました
- 3は私の場合はミドルクラスのゲーミングPCが手元にありましたがARKは重めのゲームなのでサーバとクライアント両方動かせるか、複数人でログインしたときの負荷に耐えられるか、配信しながらの負荷に耐えられるか怪しかったのと他の人とも遊ぶ予定だったので常にサーバを稼働させる必要があり、私のメインPCが常にリソースを割かれるというのは他のゲームや作業にも支障がでますし、電気代などもかかってしまいます。またポート開放などもせねばならずセキュリティ的に少し不安があるのと、WindowsのIPv6環境だと数時間粘りましたがうまくポート開放できませんでした・・・
- 上記の理由から4が一番良さそうだと判断しました。最近は選択肢も豊富ですしね。レンタルサーバだと24h稼働も手軽にできますし、手元のPCへの負担もないので安心して配信できます。またセキュリティや可用性なども評判の良いとこだったら安心感があります。

## なぜさくらVPS?
「ARK サーバー　比較」などでぐぐって評判が良さげなサービスをざっと見ました。その中で有名なさくらVPSが評判良かったのとすでに[先駆者](https://arekoreport.net/ark-survival-evolved-setup-dedicated-server/)がいて手軽に手順を追従できるという点も大きかったです。レンタルサーバのサービスを使うのはなにぶん初めてだったので最初は前例があるとこがよかった。またさくらの最安プランの2GBは月1500円(税抜)程度で安い上にそれでARKが結構安定しているという人もwebで見かけたのでこれで行こうかと。現在は二人で使っているので割り勘すれば月700円程度で済みます。さらに１４日間の試用期間もありこの間であれば無料のままキャンセルできるので駄目だったときの保険もあって安心できました。他にも利点はありますがそれは上記の先駆者の方の記事をご参照ください。

## どのように建てたか
ほぼ[先駆者](https://arekoreport.net/ark-survival-evolved-setup-dedicated-server/)の通りにやるだけだったのでさくらVPSのレンタル含めて1h30mぐらいの作業時間で済みました。ただsshログインではなくさくらのコンソール(さくらの会員サイトから開けるレンタルしたサーバのコンソール画面。手軽にできそうなので使ってみた)でやりましたがコピペができなくて全部手打ちで辛かったですね・・・。また私はEpic版で、友人がSteam版だったのでサーバを起動する`ShooterGameServer`のコマンドに`-crossplay`のオプションを追加する必要がありました。また建てたサーバにログインするにはタイトル画面からサーバ検索に行き、形式は非公式を選んでパスワードありにチェックした上でセッション名で検索をかけると出てきます。

## プレイしてみてどうか
Steam版以外ではサーバにログインできないなどの不具合があるとのことで、Epic版の私は不安だったのですが今の所普通にプレイできています。またサーバもメモリ2GBの格安プランだったので不安でしたが、2人今ログインしていますがほぼ安定して動いています。たまに少し固まったかな？というときがありますがそこまで気にならないです。まだそんなにプレイしていないので続報があったらここに追記したいですね。さくらVPSは最初の14日間は無料の試用期間なのでこの間に見極めたい・・・

## おわりに
今のところ快適にARKをプレイできています。こういった少し技術が要求される格安の手段も抵抗なく選択肢に入れられるのは技術に馴染んだエンジニアの特権なのかなと思いました(笑)